.popupContainer{
  display: flex;
  gap: 12px;
  align-items: center;
  min-width: 240px;
  max-width: 320px;
  padding: 8px;

  img{
    width: 96px;
    height: 72px;
    object-fit: cover;
    border-radius: 6px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.15);
    flex-shrink: 0;
  }

  .textContainer{
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 6px;
    flex: 1 1 auto;
    min-width: 0; 

    a{
      font-weight: 600;
      color: var(--text-primary);
      text-decoration: none;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      display: inline-block;
      max-width: 100%;
    }
    a:hover{
      color: var(--accent);
      text-decoration: underline;
    }

    span{
      color: var(--text-secondary);
      font-size: 12px;
    }

    b{
      color: var(--accent);
      font-size: 14px;
    }
  }
}

.leaflet-popup-content-wrapper{
  box-shadow: 0 6px 18px rgba(0,0,0,0.12);
  border-radius: 8px;
}

.leaflet-popup-content {
  padding: 6px 8px !important;
  /* Ensure popup background and text color follow app theme so text is visible
     in both light and dark modes. Some themes set text color to light which
     can be invisible on Leaflet's default white popup â€” enforce variables. */
  background: var(--bg-primary) !important;
  color: var(--text-primary) !important;
}

/* Make sure links inside popups are visible by default (not just on hover) */
.leaflet-popup-content a{
  color: var(--text-primary) !important;
  opacity: 1 !important;
  text-decoration: none !important;
}

/* Popup tip (the small caret) should match popup background */
.leaflet-popup-tip,
.leaflet-container .leaflet-popup-content-wrapper {
  background: var(--bg-primary) !important;
}